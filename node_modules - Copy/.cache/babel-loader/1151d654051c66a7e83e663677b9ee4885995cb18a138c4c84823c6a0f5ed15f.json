{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"; //for action\nimport axios from \"axios\";\nimport baseURL from \"../../../utils/baseURL\";\n\n//initial state\nconst initialState = {\n  loading: false,\n  //loading state ( loading for entire state)\n  error: null,\n  //error state by default null\n  users: [],\n  //if u want to fetch all users or customer so it is in empty array\n  user: {},\n  //if you want single user so it is in object\n  profile: {},\n  //if you want profile of customers\n  userAuth: {\n    //for authentication with nested data\n    loading: false,\n    // (this loading for authentication state)\n    error: null,\n    userInfo: {} //when i want to assign a user to a variable called userInfo\n  }\n};\n\n//! login action\nexport const loginUserAction = createAsyncThunk(\"users/login\", async (_ref, _ref2) => {\n  let {\n    email,\n    password\n  } = _ref;\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref2;\n  try {\n    //! make http request\n    const {\n      data\n    } = await axios.post(`${baseURL}/users/login`, {\n      email,\n      password\n    });\n    return data;\n  } catch (error) {\n    var _error$response;\n    return rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n  }\n});\n\n//users slice\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  extraReducers: builder => {\n    //handle actions\n\n    //login (pending)\n    builder.addCase(loginUserAction.pending, (state, action) => {\n      state.userAuth.loading = true;\n    });\n\n    //(fullfilled)\n    builder.addCase(loginUserAction.fulfilled, (state, action) => {\n      state.userAuth.userInfo = action.payload;\n      state.userAuth.loading = false;\n    });\n\n    //(rejected)\n    builder.addCase(loginUserAction.rejected, (state, action) => {\n      state.userAuth.error = action.payload;\n      state.userAuth.loading = false;\n    });\n  }\n});\n\n//generate reducer\nconst usersReducer = usersSlice.reducer;\nexport default usersReducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","baseURL","initialState","loading","error","users","user","profile","userAuth","userInfo","loginUserAction","_ref","_ref2","email","password","rejectWithValue","getState","dispatch","data","post","_error$response","response","usersSlice","name","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","rejected","usersReducer","reducer"],"sources":["C:/Users/Asus/OneDrive/Developer/onGoing projects/e-commerce/react-client/src/redux/slices/users/usersSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"; //for action\r\nimport axios from \"axios\";\r\nimport baseURL from \"../../../utils/baseURL\";\r\n\r\n//initial state\r\nconst initialState = {\r\n  loading: false, //loading state ( loading for entire state)\r\n  error: null, //error state by default null\r\n  users: [], //if u want to fetch all users or customer so it is in empty array\r\n  user: {}, //if you want single user so it is in object\r\n  profile: {}, //if you want profile of customers\r\n  userAuth: {\r\n    //for authentication with nested data\r\n    loading: false, // (this loading for authentication state)\r\n    error: null,\r\n    userInfo: {}, //when i want to assign a user to a variable called userInfo\r\n  },\r\n};\r\n\r\n//! login action\r\nexport const loginUserAction = createAsyncThunk(\r\n  \"users/login\",\r\n  async ({ email, password }, { rejectWithValue, getState, dispatch }) => {\r\n    try {\r\n      //! make http request\r\n      const { data } = await axios.post(`${baseURL}/users/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error?.response?.data);\r\n    }\r\n  }\r\n);\r\n\r\n//users slice\r\nconst usersSlice = createSlice({\r\n  name: \"users\",\r\n  initialState,\r\n  extraReducers: (builder) => {\r\n    //handle actions\r\n\r\n    //login (pending)\r\n    builder.addCase(loginUserAction.pending, (state, action) => {\r\n      state.userAuth.loading = true;\r\n    });\r\n\r\n    //(fullfilled)\r\n    builder.addCase(loginUserAction.fulfilled, (state, action) => {\r\n      state.userAuth.userInfo = action.payload;\r\n      state.userAuth.loading = false;\r\n    });\r\n\r\n    //(rejected)\r\n    builder.addCase(loginUserAction.rejected, (state, action) => {\r\n      state.userAuth.error = action.payload;\r\n      state.userAuth.loading = false;\r\n    });\r\n  },\r\n});\r\n\r\n//generate reducer\r\nconst usersReducer = usersSlice.reducer;\r\n\r\nexport default usersReducer;\r\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB,CAAC,CAAC;AAClE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,wBAAwB;;AAE5C;AACA,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EAAE;EAChBC,KAAK,EAAE,IAAI;EAAE;EACbC,KAAK,EAAE,EAAE;EAAE;EACXC,IAAI,EAAE,CAAC,CAAC;EAAE;EACVC,OAAO,EAAE,CAAC,CAAC;EAAE;EACbC,QAAQ,EAAE;IACR;IACAL,OAAO,EAAE,KAAK;IAAE;IAChBC,KAAK,EAAE,IAAI;IACXK,QAAQ,EAAE,CAAC,CAAC,CAAE;EAChB;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,eAAe,GAAGZ,gBAAgB,CAC7C,aAAa,EACb,OAAAa,IAAA,EAAAC,KAAA,KAAwE;EAAA,IAAjE;IAAEC,KAAK;IAAEC;EAAS,CAAC,GAAAH,IAAA;EAAA,IAAE;IAAEI,eAAe;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAAL,KAAA;EACjE,IAAI;IACF;IACA,MAAM;MAAEM;IAAK,CAAC,GAAG,MAAMlB,KAAK,CAACmB,IAAI,CAAE,GAAElB,OAAQ,cAAa,EAAE;MAC1DY,KAAK;MACLC;IACF,CAAC,CAAC;IACF,OAAOI,IAAI;EACb,CAAC,CAAC,OAAOd,KAAK,EAAE;IAAA,IAAAgB,eAAA;IACd,OAAOL,eAAe,CAACX,KAAK,aAALA,KAAK,wBAAAgB,eAAA,GAALhB,KAAK,CAAEiB,QAAQ,cAAAD,eAAA,uBAAfA,eAAA,CAAiBF,IAAI,CAAC;EAC/C;AACF,CAAC,CACF;;AAED;AACA,MAAMI,UAAU,GAAGvB,WAAW,CAAC;EAC7BwB,IAAI,EAAE,OAAO;EACbrB,YAAY;EACZsB,aAAa,EAAGC,OAAO,IAAK;IAC1B;;IAEA;IACAA,OAAO,CAACC,OAAO,CAAChB,eAAe,CAACiB,OAAO,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1DD,KAAK,CAACpB,QAAQ,CAACL,OAAO,GAAG,IAAI;IAC/B,CAAC,CAAC;;IAEF;IACAsB,OAAO,CAACC,OAAO,CAAChB,eAAe,CAACoB,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC5DD,KAAK,CAACpB,QAAQ,CAACC,QAAQ,GAAGoB,MAAM,CAACE,OAAO;MACxCH,KAAK,CAACpB,QAAQ,CAACL,OAAO,GAAG,KAAK;IAChC,CAAC,CAAC;;IAEF;IACAsB,OAAO,CAACC,OAAO,CAAChB,eAAe,CAACsB,QAAQ,EAAE,CAACJ,KAAK,EAAEC,MAAM,KAAK;MAC3DD,KAAK,CAACpB,QAAQ,CAACJ,KAAK,GAAGyB,MAAM,CAACE,OAAO;MACrCH,KAAK,CAACpB,QAAQ,CAACL,OAAO,GAAG,KAAK;IAChC,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;;AAEF;AACA,MAAM8B,YAAY,GAAGX,UAAU,CAACY,OAAO;AAEvC,eAAeD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}