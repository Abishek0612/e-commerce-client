{"ast":null,"code":"import axios from \"axios\";\nimport baseURL from \"../../../utils/baseURL\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\n//initialState\nconst initialState = {\n  loading: false,\n  //loading for all state\n  error: null,\n  users: [],\n  user: null,\n  profile: {},\n  userAuth: {\n    loading: false,\n    //Loading for authentication state\n    error: null,\n    userInfo: {}\n  }\n};\n\n//Login Action\nexport const loginUserAction = createAsyncThunk(\"users/login\", async (_ref, _ref2) => {\n  let {\n    email,\n    password\n  } = _ref;\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref2;\n  try {\n    //make http request\n    const {\n      data\n    } = await axios.post(`${baseURL}/users/login`, {\n      email,\n      password\n    });\n\n    //save the user into local storage\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\n    return data;\n  } catch (error) {\n    var _error$response;\n    return rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n  }\n});\n\n//! Registeration Action\nexport const registerUserAction = createAsyncThunk(\"users/register\", async (_ref3, _ref4) => {\n  let {\n    fullname,\n    email,\n    password\n  } = _ref3;\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref4;\n  try {\n    //make http request\n    const {\n      data\n    } = await axios.post(`${baseURL}/users/register`, {\n      fullname,\n      email,\n      password\n    });\n    return data;\n  } catch (error) {\n    var _error$response2;\n    return rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n  }\n});\n\n// Users Slice\n\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  extraReducers: builder => {\n    //handle action\n\n    //login  (pending)\n    builder.addCase(loginUserAction.pending, (state, action) => {\n      state.userAuth.loading = true;\n    });\n\n    //(fulfilled)\n    builder.addCase(loginUserAction.fulfilled, (state, action) => {\n      state.userAuth.userInfo = action.payload;\n      state.userAuth.loading = false;\n    });\n\n    //(rejected)\n    builder.addCase(loginUserAction.rejected, (state, action) => {\n      state.userAuth.error = action.payload;\n      state.userAuth.loading = false;\n    });\n\n    ////\n\n    //! Register  (pending)\n    builder.addCase(registerUserAction.pending, (state, action) => {\n      state.userAuth.loading = true;\n    });\n\n    //(fullfilled)\n    builder.addCase(registerUserAction.fulfilled, (state, action) => {\n      state.userAuth.userInfo = action.payload;\n      state.userAuth.loading = false;\n    });\n\n    //(rejected)\n    builder.addCase(registerUserAction.rejected, (state, action) => {\n      state.userAuth.loading = false;\n      state.userAuth.error = true;\n    });\n  }\n});\n\n//generate reducer\nconst usersReducer = usersSlice.reducer;\nexport default usersReducer;","map":{"version":3,"names":["axios","baseURL","createAsyncThunk","createSlice","initialState","loading","error","users","user","profile","userAuth","userInfo","loginUserAction","_ref","_ref2","email","password","rejectWithValue","getState","dispatch","data","post","localStorage","setItem","JSON","stringify","_error$response","response","registerUserAction","_ref3","_ref4","fullname","_error$response2","usersSlice","name","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","rejected","usersReducer","reducer"],"sources":["C:/Users/Asus/OneDrive/Developer/onGoing projects/e-commerce/react-client/src/redux/slice/users/usersSlice.js"],"sourcesContent":["import axios from \"axios\";\r\nimport baseURL from \"../../../utils/baseURL\";\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\n//initialState\r\nconst initialState = {\r\n  loading: false, //loading for all state\r\n  error: null,\r\n  users: [],\r\n  user: null,\r\n  profile: {},\r\n  userAuth: {\r\n    loading: false, //Loading for authentication state\r\n    error: null,\r\n    userInfo: {},\r\n  },\r\n};\r\n\r\n//Login Action\r\nexport const loginUserAction = createAsyncThunk(\r\n  \"users/login\",\r\n  async ({ email, password }, { rejectWithValue, getState, dispatch }) => {\r\n    try {\r\n      //make http request\r\n      const { data } = await axios.post(`${baseURL}/users/login`, {\r\n        email,\r\n        password,\r\n      });\r\n\r\n      //save the user into local storage\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error?.response?.data);\r\n    }\r\n  }\r\n);\r\n\r\n//! Registeration Action\r\nexport const registerUserAction = createAsyncThunk(\r\n  \"users/register\",\r\n  async (\r\n    { fullname, email, password },\r\n    { rejectWithValue, getState, dispatch }\r\n  ) => {\r\n    try {\r\n      //make http request\r\n      const { data } = await axios.post(`${baseURL}/users/register`, {\r\n        fullname,\r\n        email,\r\n        password,\r\n      });\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error?.response?.data);\r\n    }\r\n  }\r\n);\r\n\r\n// Users Slice\r\n\r\nconst usersSlice = createSlice({\r\n  name: \"users\",\r\n  initialState,\r\n  extraReducers: (builder) => {\r\n    //handle action\r\n\r\n    //login  (pending)\r\n    builder.addCase(loginUserAction.pending, (state, action) => {\r\n      state.userAuth.loading = true;\r\n    });\r\n\r\n    //(fulfilled)\r\n    builder.addCase(loginUserAction.fulfilled, (state, action) => {\r\n      state.userAuth.userInfo = action.payload;\r\n      state.userAuth.loading = false;\r\n    });\r\n\r\n    //(rejected)\r\n    builder.addCase(loginUserAction.rejected, (state, action) => {\r\n      state.userAuth.error = action.payload;\r\n      state.userAuth.loading = false;\r\n    });\r\n\r\n    ////\r\n\r\n    //! Register  (pending)\r\n    builder.addCase(registerUserAction.pending, (state, action) => {\r\n      state.userAuth.loading = true;\r\n    });\r\n\r\n    //(fullfilled)\r\n    builder.addCase(registerUserAction.fulfilled, (state, action) => {\r\n      state.userAuth.userInfo = action.payload;\r\n      state.userAuth.loading = false;\r\n    });\r\n\r\n    //(rejected)\r\n    builder.addCase(registerUserAction.rejected, (state, action) => {\r\n      state.userAuth.loading = false;\r\n      state.userAuth.error = true;\r\n    });\r\n  },\r\n});\r\n\r\n//generate reducer\r\nconst usersReducer = usersSlice.reducer;\r\n\r\nexport default usersReducer;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,wBAAwB;AAC5C,SAASC,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;;AAEhE;AACA,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EAAE;EAChBC,KAAK,EAAE,IAAI;EACXC,KAAK,EAAE,EAAE;EACTC,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE,CAAC,CAAC;EACXC,QAAQ,EAAE;IACRL,OAAO,EAAE,KAAK;IAAE;IAChBC,KAAK,EAAE,IAAI;IACXK,QAAQ,EAAE,CAAC;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,eAAe,GAAGV,gBAAgB,CAC7C,aAAa,EACb,OAAAW,IAAA,EAAAC,KAAA,KAAwE;EAAA,IAAjE;IAAEC,KAAK;IAAEC;EAAS,CAAC,GAAAH,IAAA;EAAA,IAAE;IAAEI,eAAe;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAAL,KAAA;EACjE,IAAI;IACF;IACA,MAAM;MAAEM;IAAK,CAAC,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAAE,GAAEpB,OAAQ,cAAa,EAAE;MAC1Dc,KAAK;MACLC;IACF,CAAC,CAAC;;IAEF;IACAM,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;IACtD,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOd,KAAK,EAAE;IAAA,IAAAoB,eAAA;IACd,OAAOT,eAAe,CAACX,KAAK,aAALA,KAAK,wBAAAoB,eAAA,GAALpB,KAAK,CAAEqB,QAAQ,cAAAD,eAAA,uBAAfA,eAAA,CAAiBN,IAAI,CAAC;EAC/C;AACF,CAAC,CACF;;AAED;AACA,OAAO,MAAMQ,kBAAkB,GAAG1B,gBAAgB,CAChD,gBAAgB,EAChB,OAAA2B,KAAA,EAAAC,KAAA,KAGK;EAAA,IAFH;IAAEC,QAAQ;IAAEhB,KAAK;IAAEC;EAAS,CAAC,GAAAa,KAAA;EAAA,IAC7B;IAAEZ,eAAe;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAAW,KAAA;EAEvC,IAAI;IACF;IACA,MAAM;MAAEV;IAAK,CAAC,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAAE,GAAEpB,OAAQ,iBAAgB,EAAE;MAC7D8B,QAAQ;MACRhB,KAAK;MACLC;IACF,CAAC,CAAC;IACF,OAAOI,IAAI;EACb,CAAC,CAAC,OAAOd,KAAK,EAAE;IAAA,IAAA0B,gBAAA;IACd,OAAOf,eAAe,CAACX,KAAK,aAALA,KAAK,wBAAA0B,gBAAA,GAAL1B,KAAK,CAAEqB,QAAQ,cAAAK,gBAAA,uBAAfA,gBAAA,CAAiBZ,IAAI,CAAC;EAC/C;AACF,CAAC,CACF;;AAED;;AAEA,MAAMa,UAAU,GAAG9B,WAAW,CAAC;EAC7B+B,IAAI,EAAE,OAAO;EACb9B,YAAY;EACZ+B,aAAa,EAAGC,OAAO,IAAK;IAC1B;;IAEA;IACAA,OAAO,CAACC,OAAO,CAACzB,eAAe,CAAC0B,OAAO,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1DD,KAAK,CAAC7B,QAAQ,CAACL,OAAO,GAAG,IAAI;IAC/B,CAAC,CAAC;;IAEF;IACA+B,OAAO,CAACC,OAAO,CAACzB,eAAe,CAAC6B,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC5DD,KAAK,CAAC7B,QAAQ,CAACC,QAAQ,GAAG6B,MAAM,CAACE,OAAO;MACxCH,KAAK,CAAC7B,QAAQ,CAACL,OAAO,GAAG,KAAK;IAChC,CAAC,CAAC;;IAEF;IACA+B,OAAO,CAACC,OAAO,CAACzB,eAAe,CAAC+B,QAAQ,EAAE,CAACJ,KAAK,EAAEC,MAAM,KAAK;MAC3DD,KAAK,CAAC7B,QAAQ,CAACJ,KAAK,GAAGkC,MAAM,CAACE,OAAO;MACrCH,KAAK,CAAC7B,QAAQ,CAACL,OAAO,GAAG,KAAK;IAChC,CAAC,CAAC;;IAEF;;IAEA;IACA+B,OAAO,CAACC,OAAO,CAACT,kBAAkB,CAACU,OAAO,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC7DD,KAAK,CAAC7B,QAAQ,CAACL,OAAO,GAAG,IAAI;IAC/B,CAAC,CAAC;;IAEF;IACA+B,OAAO,CAACC,OAAO,CAACT,kBAAkB,CAACa,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC/DD,KAAK,CAAC7B,QAAQ,CAACC,QAAQ,GAAG6B,MAAM,CAACE,OAAO;MACxCH,KAAK,CAAC7B,QAAQ,CAACL,OAAO,GAAG,KAAK;IAChC,CAAC,CAAC;;IAEF;IACA+B,OAAO,CAACC,OAAO,CAACT,kBAAkB,CAACe,QAAQ,EAAE,CAACJ,KAAK,EAAEC,MAAM,KAAK;MAC9DD,KAAK,CAAC7B,QAAQ,CAACL,OAAO,GAAG,KAAK;MAC9BkC,KAAK,CAAC7B,QAAQ,CAACJ,KAAK,GAAG,IAAI;IAC7B,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;;AAEF;AACA,MAAMsC,YAAY,GAAGX,UAAU,CAACY,OAAO;AAEvC,eAAeD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}